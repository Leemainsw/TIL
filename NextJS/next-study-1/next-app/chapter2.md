# Chapter 02 넥스트의 기본 기능

## 목차
1. 넥스트에서 라우팅하기
2. 정적 파일 사용하기
3. 서버로부터 데이터 불러오기
4. styled-jsx로 스타일링 하기
5. 공통 페이지 만들기
6. 공통 문서 만들기
7. 에러 페이지 만들기

### 넥스트에서 라우팅하기

넥스트에서 주소 이동을 할 때에는 주로 Link 컴포넌트를 사용하게 된다.
Link 컴포넌트는 Dom을 가지지는 않지만 자식인 ```<a>``` 태그를 클릭하게 되면 클라이언트 측 내비게이션을 실행하여 페이지 전체를 불러오지 않고 주소를 이동할 수 있다.
Link 컴포넌트를 사용하여 주소 이동을 하게 되면 브라우저의 History API를 지원함으로써 이전에 렌더링 된 페이지를 가져오게 된다. 

1. 만약 Link 컴포넌트를 사용하지 않고 a 태그만을 이용하여 주소 이동을 하게 된다면 **페이지 전체를 새로 받아오게 되어 속도가 느려지고 깜빡임도 발생한다. 뒤로가기를 하게 되어도 마찬가지이다.**  
2. 만약 Link 컴포넌트 안에 a 태그를 사용하지 않는다면 **라우팅 기능을 수행하지만 웹 접근성과 SEO에 좋지 않다.**  
3. 만약 Link 컴포넌트 안에 리액트 컴포넌트를 사용한다면 **라우팅 기능이 작동하지 않는다.**  

#### Link 컴포넌트의 속성
href: string 값으로 이동할 경로 또는 URL  
as: string 값으로 브라우저의 URL에 표시될 값으로 Next 버전 9.5.3 이전에 동적 라우팅을 위하여 사용된다.  
replace: boolean 값으로 브라우저의 history 스택에 url을 추가하지 않고 현재 상태를 변경한다.  
scroll: boolean 값으로 스크롤을 맨 위로 이동할지 설정하는 값이다.  
shallow: boolean 값으로 서버에서 데이터를 불러오는 작업을 스킵할 때 사용한다.  
passHref: boolean 값으로 자식에게 href를 전달하게 된다. 리액트 컴포넌트에 href를 전달할 수 있게 된다.  
prefetch: boolean 값으로 백그라운드에서 페이지를 미리 가져오게 된다. 브라우저 화면의 Link 컴포넌트의 페이지들을 미리 가져오게 된다.  

#### 동적 페이지 라우팅하기
- 파일 이름을 대괄호로 감싸서 만들게 된다면, 이는 페이지가 정적 페이지가 아닌 동적 페이지임을 의미하게 된다.
```[name].jsx```등
- 파일 이름에서 대괄호 안에 있는 값은 라우터 객체의 query 속성으로 들어가게 된다.

#### 라우터 객체를 이용하여 라우팅 하기
- 라우터 객체 안에는 push, replace, back 등의 함수를 이용하여 주소를 이동할 수 있다.
주로 push 함수를 자주 이용하게 되는데, 펏 번째 인자에 pathname을 두 번째 인자에는 asPath를 세 번째로는 options를 전달 할 수 있다. 

### 넥스트에서 정적 파일 사용하기
- public 폴더 내에 원하는 정적 파일을 업로드 한 뒤, 클라이언트에서는 public을 제외한 경로로 사용할 수 있다.
