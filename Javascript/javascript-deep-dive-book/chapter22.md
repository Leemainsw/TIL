# ğŸ” this

## âœ¨ this í‚¤ì›Œë“œ

thisëŠ” ìì‹ ì´ ì†í•œ ê°ì²´ ë˜ëŠ” ìì‹ ì´ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” ìê¸° ì°¸ì¡° ë³€ìˆ˜ì…ë‹ˆë‹¤. thisë¥¼ í†µí•´ ìì‹ ì´ ì†í•œ ê°ì²´ ë˜ëŠ” ìì‹ ì´ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## âœ¨ í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ê³¼ this ë°”ì¸ë”©

this ë°”ì¸ë”©ì€ í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹, ì¦‰ í•¨ìˆ˜ê°€ ì–´ë–»ê²Œ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ê²°ì •ë©ë‹ˆë‹¤.

í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ì‹

1. ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œ

- ê¸°ë³¸ì ìœ¼ë¡œ thisì—ëŠ” ì „ì—­ ê°ì²´ê°€ ë°”ì¸ë”© ë¨
- ì¼ë°˜ í•¨ìˆ˜ë¡œ í˜¸ì¶œí•˜ë©´ í•¨ìˆ˜ ë‚´ë¶€ì˜ thisì—ëŠ” ì „ì—­ ê°ì²´ê°€ ë°”ì¸ë”© ë¨
  

2. ë©”ì„œë“œ í˜¸ì¶œ
3. ìƒì„±ì í•¨ìˆ˜ í˜¸ì¶œ
4. Funciton.prototype.apply/call/bind ë©”ì„œë“œì— ì˜í•œ ê°„ì ‘ í˜¸ì¶œ

```javascript
// this ë°”ì¸ë”©ì€ í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ê²°ì •ë©ë‹ˆë‹¤.
const foo = function () {
  console.dir(this);
};

// ë™ì¼í•œ í•¨ìˆ˜ë„ ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

// 1. ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œ
// foo í•¨ìˆ˜ë¥¼ ì¼ë°˜ì ì¸ ë°©ì‹ìœ¼ë¡œ í˜¸ì¶œ
/// foo í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ì „ì—­ ê°ì²´ windowë¥¼ ê°€ë¦¬í‚¨ë‹¤.

foo(); // window

// 2. ë©”ì„œë“œ í˜¸ì¶œ
// foo í•¨ìˆ˜ë¥¼ í”„ë¡œí¼í‹° ê°’ìœ¼ë¡œ í• ë‹¹í•˜ì—¬ í˜¸ì¶œ
// foo í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ë§¤ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ objë¥¼ ê°€ë¦¬í‚¨ë‹¤.
const obj = { foo };
obj.foo(); // obj

// 3. ìƒì„±ì í•¨ìˆ˜ í˜¸ì¶œ
// foo í•¨ìˆ˜ë¥¼ new ì—°ì‚°ìì™€ í•¨ê»˜ ìƒì„±ì í•¨ìˆ˜ë¡œ í˜¸ì¶œ
// foo í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
new foo();

// 4. Funciton.prototype.apply/call/bind ë©”ì„œë“œì— ì˜í•œ ê°„ì ‘ í˜¸ì¶œ
// foo í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ì¸ìˆ˜ì— ì˜í•´ ê²°ì •ëœë‹¤.
const bar = { name: "bar" };
foo.call(bar); // bar;
foo.apply(bar); // bar
foo.bind(bar)(); // barl
```

### ğŸ‘€ ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œ

ì¼ë°˜ í•¨ìˆ˜ë¡œ í˜¸ì¶œëœ ëª¨ë“  í•¨ìˆ˜(ì¤‘ì²© í•¨ìˆ˜, ì½œë°± í•¨ìˆ˜ í¬í•¨) ë‚´ë¶€ì˜ thisì—ëŠ” ì „ì—­ ê°ì²´ê°€ ë°”ì¸ë”© ë©ë‹ˆë‹¤. ì™¸ë¶€ í•¨ìˆ˜ì¸ ë©”ì„œë“œì™€ ì¤‘ì²© í•¨ìˆ˜ ë˜ëŠ” ì½œë°± í•¨ìˆ˜ì˜ thisê°€ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ë‹¤ëŠ” ê²ƒì€ ì¤‘ì²© í•¨ìˆ˜ ë˜ëŠ” ì½œë°± í•¨ìˆ˜ë¥¼ í—¬í¼ í•¨ìˆ˜ë¡œ ë™ì‘í•˜ê¸° ì–´ë µê²Œ ë§Œë“­ë‹ˆë‹¤. ë©”ì„œë“œ ë‚´ë¶€ì˜ ì¤‘ì²© í•¨ìˆ˜ë‚˜ ì½œë°± í•¨ìˆ˜ì˜ this ë°”ì¸ë”©ì„ ë©”ì„œë“œì˜ this ë°”ì¸ë”©ê³¼ ì¼ì¹˜ì‹œí‚¤ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ í•©ë‹ˆë‹¤.

```javascript
var value = 1;
const obj = {
  value: 100,
  foo() {
    // this ë°”ì¸ë”©(obj)ë¥¼ ë³€ìˆ˜ thatì— í• ë‹¹í•©ë‹ˆë‹¤.
    const that = this;

    // ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ this ëŒ€ì‹  thatì„ ì°¸ì¡°í•©ë‹ˆë‹¤
    setTimeout(function () {
      console.log(that.value); // 100
    }, 100);
  },
};

/// Function.prototype.bind ë©”ì„œë“œ ì‚¬ìš©í•˜ê¸°
const obj = {
  value: 100,
  foo() {
    setTimeout(function() {
      console.log(this.value);
    }bind(this), 100)
  }
}

// í™”ì‚´í‘œ í•¨ìˆ˜ ì‚¬ìš©í•˜ê¸°
const obj = {
  value: 100,
  foo() {
    // í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ìƒìœ„ ìŠ¤ì½”í”„ì˜ thisë¥¼ ê°€ë¦¬í‚¨ë‹¤.
    setTimeout(() => console.log(this.value), 100); //
  }
}
```

### ğŸ‘€ ë©”ì„œë“œ í˜¸ì¶œ

ë©”ì„œë“œ ë‚´ë¶€ì˜ thisëŠ” ë©”ì„œë“œë¥¼ ì†Œìœ í•œ ê°ì²´ê°€ ì•„ë‹Œ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ì— ë°”ì¸ë”© ë©ë‹ˆë‹¤.

```javascript
const anotherPerson = {
  name: "Kim",
};

// getName ë©”ì„œë“œë¥¼ anotherPerson ê°ì²´ì˜ ë©”ì„œë“œë¡œ í• ë‹¹
anotherPerson.getName = person.getName;

// getName ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ëŠ” anotherPersonì´ë‹¤.
console.log(anotherPerson.getName()); // Kim

const getName = person.getName;

console.log(getName); // ''
// ì¼ë°˜ í•¨ìˆ˜ë¡œ í˜¸ì¶œëœ getName í•¨ìˆ˜ ë‚´ë¶€ì˜ this.nameì€ ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ window.nameê³¼ ê°™ë‹¤.
// ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ window.nameì€ ë¸Œë¼ìš°ì € ì°½ì˜ ì´ë¦„ì„ ë‚˜íƒ€ë‚´ëŠ” ë¹ŒíŠ¸ì¸ í”„ë¡œí¼í‹°ì´ë©° ê¸°ë³¸ê°’ì€ '' ì´ë‹¤.
// Node.js í™˜ê²½ì—ì„œ this.nameì€ undefinedì´ë‹¤.
```

### ğŸ‘€ ìƒì„±ì í•¨ìˆ˜ í˜¸ì¶œ

ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì˜ thisì—ëŠ” ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ê°€ ë°”ì¸ë”©ë©ë‹ˆë‹¤.

```javascript
function Circle(raduis) {
  // ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
  this.radius = radius;
  this.getDiameter = function () {
    return 2 * this.raduis;
  };
}

// ë°˜ì§€ë¦„ì´ 5ì¸ Circle ê°ì²´ ìƒì„±
const circle1 = new Circle(5);
const circle2 = new Circle(10);

circle1.getDiameter(); // 10
circle2.getDiameter(); // 10
```

### ğŸ‘€ Funciton.prototype.apply/call/bind ë©”ì„œë“œì— ì˜í•œ ê°„ì ‘ í˜¸ì¶œ

`apply`, `call`, `bind` ë©”ì„œë“œëŠ” Function.prototypeì˜ ë©”ì„œë“œì…ë‹ˆë‹¤. ì¦‰, ì´ë“¤ ë©”ì„œë“œëŠ” ëª¨ë“  í•¨ìˆ˜ê°€ ìƒì†ë°›ì•„ì„œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
`apply` `call` ë©”ì„œë“œëŠ” thisë¡œ ì‚¬ìš©í•  ê°ì²´ì™€ ì¸ìˆ˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì•„ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.

ì•„ë˜ì˜ ë‚´ìš©ìœ¼ë¡œ í•¨ê»˜ ì‚¬ìš©ë²•ì„ í™•ì¸í•´ë´…ì‹œë‹¤.

```javascript
/**
 * ì£¼ì–´ì§„ this ë°”ì¸ë”©ê³¼ ì¸ìˆ˜ ë¦¬ìŠ¤íŠ¸ ë°°ì—´ì„ ì‚¬ìš©í•˜ì—¬ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤
 * @param thisArg thisë¡œ ì‚¬ìš©í•  ê°ì²´
 * @param argsArray í•¨ìˆ˜ì—ê²Œ ì „ë‹¬í•  ì¸ìˆ˜ ë¦¬ìŠ¤íŠ¸ì˜ ë°°ì—´ ë˜ëŠ” ìœ ì‚¬ ë°°ì—´ ê°ì²´
 * @returns í˜¸ì¶œëœ í•¨ìˆ˜ì˜ ë°˜í™˜ê°’
 * **/
Function.prototype.apply(thisArg[, argsArray]);

/**
 * ì£¼ì–´ì§„ this ë°”ì¸ë”©ê³¼ ,ë¡œ êµ¬ë¶„ëœ ì¸ìŠ¤ ë¦¬ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤
 * @param thisArg - thisë¡œ ì‚¬ìš©í•  ê°ì²´
 * @param arg1, arg2, ... - í•¨ìˆ˜ì—ê²Œ ì „ë‹¬í•  ì¸ìˆ˜ ë¦¬ìŠ¤íŠ¸
 * @returns í˜¸ì¶œëœ í•¨ìˆ˜ì˜ ë°˜í™˜ê°’
**/
Function.prototype.call(thisArg[, arg1[, arg2[, ...]]]);
```

`apply` ì™€ `call` ë©”ì„œë“œì˜ ë³¸ì§ˆì ì¸ ê¸°ëŠ¥ì€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

```javascript
function getThisBinding() {
  return this;
}

// thisë¡œ ì‚¬ìš©í•  ê°ì²´
const thisArg = { a: 1 };
console.log(getThisBinding());

// getThisBinding í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ì„œ ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ ê°ì²´ë¥¼ getThisBinding í•¨ìˆ˜ì˜ thisì— ë°”ì¸ë”©í•œë‹¤.
console.log(getThisBinding.apply(thisArg)); // {a: 1}
console.log(getThisBinding.call(thisArg)); // {a: 1}
```
